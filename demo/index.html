<!doctype html>
<html>

	<head>
		<script src="../../webcomponentsjs/webcomponents-lite.js"></script>
		<link rel="import" href="../../paper-input/paper-input.html">
		<link rel="import" href="../../paper-button/paper-button.html">
		<link rel="import" href="../../paper-styles/demo-pages.html">
		<link rel="import" href="simple-tracker.html">

		<title>simple-tracker</title>
	</head>

	<body>
		<dom-bind>
			<template>
				<simple-tracker id="tracker" account-id="[[accountId]]" ga-initialized="{{initialized}}"></simple-tracker>

				<div class="vertical-section vertical-section-container centered">
					<paper-input value="{{accountId}}" label="Account ID"></paper-input>
					<paper-button on-tap="_connect">Connect</paper-button>
					<div>
						Tracker is initialized: [[initialized]]
					</div>
				</div>

				<div class="vertical-section vertical-section-container centered">
					<paper-input value="{{page}}" label="Page URL"></paper-input>
					<paper-button on-tap="_trackPageView" disabled="[[!initialized]]">Track URL</paper-button>
				</div>
			</template>

			<script>
				var scope = document.querySelector('dom-bind');
				scope.page = 'test/index.html';
				scope._connect = () => scope.$.tracker.gaCreate(scope.accountId);
				scope._trackPageView = ()  => scope.$.tracker.gaTrackPageView(scope.page);
			</script>
		</dom-bind>
	</body>

</html>
